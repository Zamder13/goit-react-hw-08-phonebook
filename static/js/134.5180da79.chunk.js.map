{"version":3,"file":"static/js/134.5180da79.chunk.js","mappings":"qRAEaA,EAFeC,EAAQ,MAA5BC,QAEkBC,IAAV,qE,mBCiFhB,EAnEqB,WACnB,IAAMC,GAAQC,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAAWA,EAAMC,MAAMH,SACjD,GAAuCI,EAAAA,EAAAA,IAAsBJ,EAAO,CAClEK,KAAgB,OAAVL,IADMM,EAAd,EAAQC,KAAgBC,EAAxB,EAAwBA,WAGxB,GAAwBC,EAAAA,EAAAA,MAAjBC,GAAP,eACA,GAAqBC,EAAAA,EAAAA,MAAdC,GAAP,eAEA,GAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KAEMC,GAAOf,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAAWA,EAAMC,MAAMc,eAEhDC,EAAAA,EAAAA,YAAU,cAAU,CAACZ,IAiCrB,OACE,UAACV,EAAD,YACE,SAAC,KAAD,IACCoB,IACC,iCACE,sCACA,SAAC,IAAD,CAAMG,SAtCK,SAACC,EAAMC,GACxB,GACEf,EAASgB,MACP,SAACC,GAAD,OAAaA,EAAQH,KAAKI,gBAAkBJ,EAAKI,iBAGnDC,MAAM,GAAD,OAAIL,EAAJ,iCACA,CACL,IAAMG,EAAU,CACdH,KAAMA,EACNC,OAAQA,GAEV,IACET,EAAWW,GACXG,EAAAA,GAAAA,QAAc,iBACd,MAAOC,UAwBL,oCACA,SAACC,EAAA,EAAD,CAAQC,MAAOf,EAAQgB,SArBV,SAACC,GACpB,IAAMC,EAAcD,EAAME,OAAOJ,MACjCd,EAAUiB,MAoBHxB,IAAc,SAAC0B,EAAA,EAAD,IACd5B,IAAaE,IACZ,SAAC2B,EAAA,EAAD,CACEC,QApBa,WACvB,GAAI9B,EAAU,CACZ,IAAM+B,EAAmBvB,EAAOU,cAChC,OAAOlB,EAASQ,QAAO,SAACS,GAAD,OACrBA,EAAQH,KAAKI,cAAcc,SAASD,OAgBrBE,GACTC,gBAAiB9B","sources":["pages/ContactsPage/ContactsPage.syeled.jsx","pages/ContactsPage/ContactsPage.jsx"],"sourcesContent":["const { default: styled } = require(\"styled-components\");\r\n\r\nexport const Box = styled.div`\r\n  margin: 30px auto;\r\n\r\n  max-width: 800px;\r\n`;\r\n","import Form from \"../../components/ContactForm/ContactForm.jsx\";\r\nimport ContactList from \"../../components/ContactsList/ContactList.jsx\";\r\nimport Filter from \"../../components/Filter/Filter.jsx\";\r\n\r\nimport {\r\n  useFetchContactsQuery,\r\n  useDeleteContactMutation,\r\n  useAddContactMutation,\r\n} from \"../../services/serviceAPI.jsx\";\r\nimport Spinner from \"../../components/Spinner/Spinner.jsx\";\r\nimport { useState, useEffect } from \"react\";\r\nimport toast, { Toaster } from \"react-hot-toast\";\r\n\r\nimport { Box } from \"./ContactsPage.syeled.jsx\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst ContactsPage = () => {\r\n  const token = useSelector((state) => state.users.token);\r\n  const { data: contacts, isFetching } = useFetchContactsQuery(token, {\r\n    skip: token === null,\r\n  });\r\n  const [deleteContact] = useDeleteContactMutation();\r\n  const [addContact] = useAddContactMutation();\r\n\r\n  const [filter, setFilter] = useState(\"\");\r\n\r\n  const here = useSelector((state) => state.users.isLoggedIn);\r\n\r\n  useEffect(() => {}, [contacts]);\r\n  const setContact = (name, number) => {\r\n    if (\r\n      contacts.find(\r\n        (contact) => contact.name.toLowerCase() === name.toLowerCase()\r\n      )\r\n    ) {\r\n      alert(`${name} is already in contacts.`);\r\n    } else {\r\n      const contact = {\r\n        name: name,\r\n        number: number,\r\n      };\r\n      try {\r\n        addContact(contact);\r\n        toast.success(\"Contact added\");\r\n      } catch (error) {}\r\n    }\r\n  };\r\n\r\n  const changeFilter = (event) => {\r\n    const filterdName = event.target.value;\r\n    setFilter(filterdName);\r\n  };\r\n\r\n  const filteredContacts = () => {\r\n    if (contacts) {\r\n      const normalizedFilter = filter.toLowerCase();\r\n      return contacts.filter((contact) =>\r\n        contact.name.toLowerCase().includes(normalizedFilter)\r\n      );\r\n    }\r\n  };\r\n  return (\r\n    <Box>\r\n      <Toaster />\r\n      {here && (\r\n        <>\r\n          <h1>Contacts</h1>\r\n          <Form onSubmit={setContact} />\r\n          <h2>Filter</h2>\r\n          <Filter value={filter} onChange={changeFilter} />\r\n          {isFetching && <Spinner />}\r\n          {contacts && !isFetching && (\r\n            <ContactList\r\n              persons={filteredContacts(contacts)}\r\n              onDeleteContact={deleteContact}\r\n            />\r\n          )}\r\n        </>\r\n      )}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default ContactsPage;\r\n"],"names":["Box","require","default","div","token","useSelector","state","users","useFetchContactsQuery","skip","contacts","data","isFetching","useDeleteContactMutation","deleteContact","useAddContactMutation","addContact","useState","filter","setFilter","here","isLoggedIn","useEffect","onSubmit","name","number","find","contact","toLowerCase","alert","toast","error","Filter","value","onChange","event","filterdName","target","Spinner","ContactList","persons","normalizedFilter","includes","filteredContacts","onDeleteContact"],"sourceRoot":""}